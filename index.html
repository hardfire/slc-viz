<!DOCTYPE html>
<meta charset="utf-8">

<link href="assets/css/nv.d3.css" rel="stylesheet" type="text/css">

<style>

body {
  overflow-y:scroll;
}

text {
  font: 12px sans-serif;
}

svg {
  display: block;
}

#chart1 svg {
  height: 500px;
  min-width: 100px;
  min-height: 100px;
/*
  margin: 50px;
  Minimum height and width is a good idea to prevent negative SVG dimensions...
  For example width should be =< margin.left + margin.right + 1,
  of course 1 pixel for the entire chart would not be very useful, BUT should not have errors
*/
}

</style>
<body>

  <div id="chart">
    <svg> </svg>
  </div>

<script src="assets/js/d3.v2.js"></script>
<script src="assets/js/nv.d3.js"></script>
<script src="assets/js/utils.js"></script>
<script src="assets/js/tooltip.js"></script>
<script src="assets/js/legend.js"></script>
<script src="assets/js/axis.js"></script>
<script src="assets/js/scatter.js"></script>
<script src="assets/js/models/line.js"></script>
<script src="assets/js/historicalBar.js"></script>
<script src="assets/js/linePlusBarChart.js"></script>

<script>



// Wrapping in nv.addGraph allows for '0 timeout render', stores rendered charts in nv.graphs, and may do more in the future... it's NOT required
var chart = nv.models.lineChart()
        .forceX(2066,2070)
        .forceY([200000, 547165]);

var tickMarks = [2066,2067,2068,2069,2070];

  chart.xAxis 
      .axisLabel('Year (BS)')
    .tickValues(tickMarks)
      .tickFormat(d3.format('.')); 

  chart.yAxis
      .axisLabel('Students')
      .tickFormat(d3.format('.'));


  var drawGraph=function() {
    d3.select('#chart svg')
        .datum(dataval())
      .transition().duration(500)
        .call(chart);

    nv.utils.windowResize(chart.update);

  }

  drawGraph();



function dataval() {

  return [
    {
      values: [ {"x":2066, "y":342632},  {"x":2067, "y":456719} ,  {"x":2068, "y":454022},  {"x":2069, "y":419019},  {"x":2070, "y":547165}],
      key: "Total Appeared",
      color: "#2ca02c"
    },
    {
      values: [ {"x":2066, "y":234062},  {"x":2067, "y":259916} ,  {"x":2068, "y":230509},  {"x":2069, "y":209786},  {"x":2070, "y":176253}],
      key: "Passed",
      color: "#ff7f0e"
    }
  ];
}


</script>
